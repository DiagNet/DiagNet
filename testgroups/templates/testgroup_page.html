{% extends "base.html" %}

{% block title %}Test Groups - DiagNet{% endblock %}

{% block content %}
<h1>Test Groups</h1>
<form hx-post="create-testgroup/" hx-target="#testgroup-table" hx-swap="outerHTML">
  {% csrf_token %}
  <div class="from-group row">
    <div class="col-sm-8">
      <input type="text" name="name" placeholder="Type group name here" class="form-control">
    </div>
    <div class="col-sm-4">
      <button type="submit" name="submit" class="btn btn-primary mb-3">
        <i class="bi bi-database-add"></i>
        Add Test Group
      </button>
    </div>
  </div>
</form>
<div class="table-responsive" id="testgroup-table">
    <table class="table table-striped">
        <thead>
        <tr>
            <th>Name</th>
            <th>Actions</th>
        </tr>
        </thead>
        <tbody>
        {% if testgroup_list %}
        {% for testgroup in testgroup_list %}
        <tr id="testgroups-{{ testgroup.name }}">
            <td>{{ testgroup.name }}</td>
            <td class="status">
                <span class="connection-status">status</span>
                <span id="{{ testgroup.name }}-spinner" class="htmx-indicator">
                        <span class="spinner-grow spinner-grow-sm" role="status"></span>
                    </span>
            </td>
        </tr>
        {% endfor %}
        {% else %}
        <tr>
            <td colspan="100%">No Test Groups yet.</td>
        </tr>
        {% endif %}
        </tbody>
    </table>
</div>
{% endblock %}
