{# templates/networktests/partials/test_result.html #}

{% if status == "error" %}
  <div class="text-danger">{{ error }}</div>
{% else %}
  {% with r=result.result|default_if_none:""|upper %}
    {% if r == "PASS" %}
      <div class="text-success">PASS</div>
    {% elif r == "FAIL" %}
      <div class="text-danger">FAIL</div>
    {% else %}
      <div class="text-secondary">{{ r }}</div>
    {% endif %}
  {% endwith %}

  {% if result.tests %}
    <details class="mt-1">
      <summary class="small">Details</summary>
      <ul class="small mt-1">
        {% for name, info in result.tests.items %}
          <li>
            <strong>{{ name }}</strong>:
            {{ info.result|upper }}
            {% if info.message %} â€” {{ info.message }}{% endif %}
          </li>
        {% endfor %}
      </ul>
    </details>
  {% endif %}
{% endif %}

