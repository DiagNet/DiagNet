<form method="post"
      hx-post="{% if object %}{% url 'device-update' object.pk %}{% else %}{% url 'device-create' %}{% endif %}"
      hx-target="this"
      hx-swap="outerHTML">

    {% csrf_token %}

    <div class="form-floating mb-3">
        <select
            name="vendor"
            class="form-select"
            {% if is_update %}disabled{% endif %}
            hx-get="{% url 'device-vendor-form' %}"
            hx-trigger="change"
            hx-target="#device-fields"
        >
            <option value="cisco" {% if vendor == "cisco" %}selected{% endif %}>
                Cisco
            </option>
            <option value="fortinet" {% if vendor == "fortinet" %}selected{% endif %}>
                Fortinet
            </option>
        </select>
        <label>Vendor</label>
    </div>

    <div id="device-fields">
        {% include "devices/partials/cisco_fields.html" %}
    </div>

    <button class="btn btn-success" type="submit">
        Create
    </button>
</form>
